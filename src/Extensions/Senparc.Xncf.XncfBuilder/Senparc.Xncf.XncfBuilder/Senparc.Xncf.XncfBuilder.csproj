<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<TargetFramework>net6.0</TargetFramework>
		<Version>0.18.1-beta14</Version>
		<LangVersion>9.0</LangVersion>
		<AssemblyName>Senparc.Xncf.XncfBuilder</AssemblyName>
		<RootNamespace>Senparc.Xncf.XncfBuilder</RootNamespace>
		<GeneratePackageOnBuild Condition=" '$(Configuration)' == 'Release' ">true</GeneratePackageOnBuild>
		<GeneratePackageOnBuild Condition=" '$(Configuration)' == 'TemplateRelease' ">true</GeneratePackageOnBuild>
		<Description>Senparc.Xncf.XncfBuilder 快速生成 XNCF 模块基础程序代码</Description>
		<Copyright>NeuCharFramework</Copyright>
		<PackageTags>NeuCharFramework,NCF,Senparc.Xncf.XncfBuilder</PackageTags>
		<Authors>NeuCharFramework</Authors>
		<Owners>NeuCharFramework</Owners>
		<PackageLicenseExpression>Apache-2.0</PackageLicenseExpression>
		<Title>XNCF 模块生成器</Title>
		<ProjectUrl> https://github.com/NeuCharFramework/NCF</ProjectUrl>
		<PackageProjectUrl>https://github.com/NeuCharFramework/NcfPackageSources</PackageProjectUrl>
		<PackageIcon>icon.jpg</PackageIcon>
		<PackageReleaseNotes>
			v0.1 创世
			v0.8.127 使用 .NET Core 命令行创建模板，取代原有的 T4 模板
			v0.13.3 添加 Oracle 数据库 Migration 支持
			v0.13.4.1 添加 Oracle 数据库迁移代码
			v0.13.6 更新 XncfBuilder，适配 .NET 7.0 CLI
			v0.13.9 数据库 migration 命令中的路径添加引号，防止路径中出现空格
			v0.13.10 XNCF Builder 自动记录上次填写的内容，并且首次自动探索 .sln 文件
			V0.14.0 移除对 netstandard2.1 的编译，保留 netcoreapp3.1;net6.0
			v0.15.0 集成 Senparc.Xncf.PromptRange 项目，使用 AI 自动生成项目
			v0.16.0 优化 AI 生成过程，添加对 EntityClass、EntityDtoClass、SenparcEntities 的独立生成过程
			v0.16.2.1024 升级至 1024 特别版，支持 2023.10.24 特别版 Senparc.Xncf.PromptRange
			v0.17.0 优化 Add-Migration，支持自动选择 XNCF 项目
			v0.17.1 优化 Add-Migration，支持自动扫描 *SenparcEntities.cs 文件
			v0.18.0 优化 Add-Migration，可自动更新 Register.cs 版本号
		</PackageReleaseNotes>
		<RepositoryUrl>https://github.com/NeuCharFramework/NcfPackageSources</RepositoryUrl>
		<Configurations>Debug;Release;Test;TemplateRelease</Configurations>
	</PropertyGroup>
	<PropertyGroup Condition=" '$(Configuration)' == 'Release' OR '$(Configuration)'=='TemplateRelease'">
		<OutputPath>..\..\..\BuildOutPut</OutputPath>
		<DocumentationFile>..\..\..\BuildOutPut\Senparc.Xncf.XncfBuilder.XML</DocumentationFile>
		<DefineConstants>$(DefineConstants);RELEASE</DefineConstants>
		<Optimize>true</Optimize>
		<DebugType>pdbonly</DebugType>
		<ErrorReport>prompt</ErrorReport>
		<CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
	</PropertyGroup>
	<ItemGroup>
	  <Compile Remove="ACL\**" />
	  <EmbeddedResource Remove="ACL\**" />
	  <None Remove="ACL\**" />
	</ItemGroup>

	<ItemGroup>
		<None Include="..\..\..\icon.jpg" Pack="true" Visible="false" PackagePath="" />
	</ItemGroup>
	<!--<ItemGroup>
    <PackageReference Include="Microsoft.EntityFrameworkCore.Tools" Version="6.0.3">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
    </PackageReference>
  </ItemGroup>-->
	<ItemGroup>
		<ProjectReference Condition=" '$(Configuration)' != 'Release' " Include="..\..\..\Basic\Senparc.Ncf.DatabasePlant\Senparc.Ncf.DatabasePlant.csproj" />
	</ItemGroup>
	<ItemGroup>
		<!--<PackageReference Include="Senparc.Ncf.XncfBase" Version="0.3.600.100-beta1" />-->
		<ProjectReference Include="..\..\..\Basic\Senparc.Ncf.XncfBase\Senparc.Ncf.XncfBase.csproj" />
		<ProjectReference Include="..\..\Senparc.Xncf.PromptRange\Senparc.Xncf.PromptRange.csproj" />
		<PackageReference Include="System.CodeDom" Version="4.7.0" />
	</ItemGroup>
	<ItemGroup>
		<Service Include="{508349b6-6b84-4df5-91f0-309beebad82d}" />
	</ItemGroup>
	<!-- 由于 Npgsql 生成代码有依赖，因此此处暂时引用 -->
	<ItemGroup Condition="'$(TargetFramework)' == 'netstandard2.1'">
		<PackageReference Include="Oracle.EntityFrameworkCore" Version="5.21.61" />
		<PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" Version="5.0.10" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="5.0.6" />
	</ItemGroup>
	<ItemGroup Condition="'$(TargetFramework)' == 'net6.0'">
		<PackageReference Include="Oracle.EntityFrameworkCore" Version="6.21.61" />
		<PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" Version="6.0.0" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="6.0.0" />
	</ItemGroup>
</Project>